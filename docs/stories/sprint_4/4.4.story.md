# História 4.4: Refinamento da UX e Feedback Geral

## Status
Pronto para Desenvolvimento

## História
**Como um** usuário,
**Eu quero** que a interface do TaskFlow seja consistentemente simples e intuitiva,
**para que** minha experiência de usuário seja fluida e agradável, sem frustrações.

## Critérios de Aceitação
1. A navegação entre as diferentes seções da aplicação deve ser clara e consistente.
2. Os elementos da interface devem ser responsivos e carregar rapidamente.
3. As mensagens de erro e feedback do sistema devem ser claras e úteis.
4. A aplicação deve aderir aos princípios de design de simplicidade e minimalismo em todas as telas.
5. O sistema deve fornecer um mecanismo simples para os usuários enviarem feedback sobre a UX.

## Notas do Desenvolvedor
*Esta história tem um escopo amplo. O foco inicial será no CA 5 (mecanismo de feedback), pois é a única funcionalidade concreta a ser implementada. Os outros CAs são princípios a serem observados durante o desenvolvimento contínuo.*

### Especificações da API
- **Endpoint para Envio de Feedback:** `POST /feedback`
  - **Permissão:** Qualquer usuário autenticado.
  - **Corpo da Requisição:** Um objeto JSON com `message` (o texto do feedback) e `context` (ex: a página atual do usuário).
  - **Resposta:** `201 Created`.
- [Fonte: architecture/8-especificao-da-api-restful.md (Adaptado para nova funcionalidade)]

### Arquitetura do Backend
- Criar um novo pacote `com.taskflow.feedback`.
- Este pacote conterá `Feedback.java` (Entidade), `FeedbackRepository.java`, `FeedbackService.java` e `FeedbackController.java`.
- A entidade `Feedback` armazenará a mensagem, o contexto e o ID do usuário que a enviou.
- [Fonte: architecture/6-arquitetura-do-backend-monlito-modular.md]

### Arquitetura do Frontend
- Criar um componente de feedback reutilizável (ex: `FeedbackButton.tsx`) que pode ser colocado em um local discreto no layout principal.
- Ao clicar, este componente abrirá um modal simples com um campo de texto para o feedback.
- [Fonte: architecture/7-arquitetura-do-frontend-spa.md]

### Localização dos Arquivos (Backend)
- `taskflow-backend/src/main/java/com/taskflow/feedback/Feedback.java`
- `taskflow-backend/src/main/java/com/taskflow/feedback/FeedbackRepository.java`
- `taskflow-backend/src/main/java/com/taskflow/feedback/FeedbackService.java`
- `taskflow-backend/src/main/java/com/taskflow/feedback/FeedbackController.java`
- `taskflow-backend/src/main/java/com/taskflow/feedback/dto/FeedbackRequestDto.java`
- [Fonte: architecture/4-estrutura-unificada-do-projeto-polyrepo.md]

### Localização dos Arquivos (Frontend)
- `taskflow-frontend/src/features/feedback/FeedbackButton.tsx`
- `taskflow-frontend/src/features/feedback/FeedbackModal.tsx`
- `taskflow-frontend/src/services/feedbackService.ts`
- [Fonte: architecture/4-estrutura-unificada-do-projeto-polyrepo.md]

## Tarefas / Subtarefas
- [ ] **Backend: Modelo** (CA: 5)
  - [ ] Criar a entidade JPA `Feedback.java` e o repositório `FeedbackRepository.java`.
  - [ ] Criar o DTO `FeedbackRequestDto.java`.
- [ ] **Backend: Serviço & Controlador** (CA: 5)
  - [ ] Criar `FeedbackService.java` para salvar o feedback.
  - [ ] Criar `FeedbackController.java` com o endpoint `POST /feedback`.
- [ ] **Frontend: Componentes** (CA: 5)
  - [ ] Criar o serviço `feedbackService.ts` para chamar a API.
  - [ ] Criar o componente `FeedbackModal.tsx` com um formulário para enviar o feedback.
  - [ ] Criar o componente `FeedbackButton.tsx` e adicioná-lo ao layout principal da aplicação.
- [ ] **Testes** (CA: 5)
  - [ ] Escrever testes de integração para o endpoint `POST /feedback` (backend).
  - [ ] Escrever testes de componentes para `FeedbackModal.tsx` (frontend).
- [ ] **Revisão de UX/UI (Geral)** (CA: 1, 2, 3, 4)
  - [ ] (Nota para o dev Frontend) Realizar uma revisão geral da aplicação para identificar inconsistências de navegação, mensagens de erro pouco claras ou elementos de UI que não seguem os princípios de simplicidade. Criar novas tarefas ou histórias para os problemas encontrados.

## Testes
- **Backend:** Testes de integração para o endpoint de feedback.
- **Frontend:** Testes de componentes para o modal de feedback.
- [Fonte: architecture/11-estratgia-de-testes.md]

## Log de Alterações
| Data | Versão | Descrição | Autor |
|---|---|---|---|
| 2025-11-06 | 1.0 | Rascunho inicial | sm |